(this["webpackJsonpshopify-app"]=this["webpackJsonpshopify-app"]||[]).push([[0],{45:function(e,s,c){},46:function(e,s,c){},47:function(e,s,c){},48:function(e,s,c){"use strict";c.r(s);var t=c(0),i=c(1),a=c(16),n=c.n(a),l=c(2),o=c(7),r=c.n(o),j=c(17),d=c(18),b=c.n(d).a.create({baseURL:"https://www.omdbapi.com"}),m=function(e,s){return b.get("/?apikey=".concat("5f2a6108&"),{params:{s:e,type:"movie",page:s}})},u=function(e,s){var c=Object(i.useState)((function(){var c=window.localStorage.getItem(s);return c?JSON.parse(c):e})),t=Object(l.a)(c,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){window.localStorage.setItem(s,JSON.stringify(a))}),[s,a]),[a,n]},v=function(){return Object(t.jsx)(t.Fragment,{})},O=function(e){var s=e.setMovies,c=e.setPage,i=e.page,a=e.total;return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("div",{onClick:function(){s([]),c(i-1)},className:"four wide column ui button ".concat(i<=1&&"disable"),children:Object(t.jsx)("i",{className:"chevron left icon"})}),Object(t.jsx)("div",{onClick:function(){s([]),c(i+1)},className:"four wide column ui button ".concat(i>=Math.ceil(a/10)&&"disable"),children:Object(t.jsx)("i",{className:"chevron right icon"})})]})},h=function(e){var s=e.debouncedValue,c=e.page,i=e.total;return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)("div",{className:"four wide column",children:[Object(t.jsx)("br",{}),Object(t.jsx)("div",{className:"four column row",children:Object(t.jsxs)("h2",{children:['Results for "',s,'":']})})]}),Object(t.jsxs)("div",{className:"four wide right aligned column",children:[Object(t.jsx)("br",{}),Object(t.jsx)("div",{className:"four column row",children:Object(t.jsxs)("h4",{children:["Page ",c," of ",Math.ceil(i/10),":"]})})]})]})},x=function(e){var s=e.debouncedValue,c=e.page,i=e.setPage,a=e.setMovies,n=e.total;return Object(t.jsxs)("div",{className:"ui grid",children:[Object(t.jsx)(h,{debouncedValue:s,page:c,total:n}),Object(t.jsxs)("div",{className:"ui two column row",children:[Object(t.jsx)(O,{page:c,setPage:i,setMovies:a,total:n}),Object(t.jsx)(v,{})]})]})},N=function(e){var s=e.setMovies,c=u("","term"),a=Object(l.a)(c,2),n=a[0],o=a[1],d=Object(i.useState)(n),b=Object(l.a)(d,2),v=b[0],O=b[1],h=u(1,"page"),N=Object(l.a)(h,2),f=N[0],g=N[1],p=u(0,"total"),w=Object(l.a)(p,2),S=w[0],M=w[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(j.a)(r.a.mark((function e(c){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(c,f);case 2:t=e.sent,(i=t.data).Search&&(s(i.Search),M(i.totalResults)),i.Error&&(s([{error:1}]),M(0)),c||s([{initial:1}]);case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),c=setTimeout((function(){O(n),e(n)}),1e3);return function(){clearTimeout(c)}}),[n,v,s,M,f]),Object(t.jsxs)("div",{children:[Object(t.jsx)("div",{className:"ui segment search-bar",children:Object(t.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form",children:Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{children:"Search for a movie"}),Object(t.jsx)("input",{value:n,type:"text",onChange:function(e){o(e.target.value),g(1)}})]})})}),v&&S>0&&Object(t.jsx)(x,{debouncedValue:v,page:f,setPage:g,total:S,setMovies:s}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{})]})},f=c(5),g=c(20),p=c(19),w=c(4),S=(c(45),c(46),function(e){var s=e.movie,c=e.onToggle,i=e.disabled,a=s.selected?"red":"olive",n=i&&!s.selected;return Object(t.jsxs)("div",{className:"ui relaxed list","data-tooltip":n?"You cannot nominate more than 5 movies.":void 0,children:[Object(t.jsx)("div",{className:"item content",children:Object(t.jsxs)("div",{children:[Object(t.jsx)("div",{className:"header",children:s.Title}),Object(t.jsx)("div",{className:"description",children:s.Year}),Object(t.jsx)("button",{onClick:function(){return c(s)},className:"ui ".concat(a," button right floated movie-item \n               ").concat(n&&"disable"),children:s.selected?"Remove":"Nominate"})]})}),Object(t.jsx)("hr",{className:"bwidth"})]})}),M=function(e){var s=e.nominatedMovies,c=e.onToggle,i=e.children,a=s.map((function(e){return Object(t.jsx)(S,{movie:e,disabled:!1,color:"red",action:"Remove",onToggle:c},e.imdbID)}));return s.length>0?Object(t.jsx)(t.Fragment,{children:Object(t.jsxs)("div",{className:"eight wide column",children:[Object(t.jsx)("h2",{children:"Selected movies"}),Object(t.jsxs)("h3",{children:[s.length," of 5 selected."]}),a,i]})}):Object(t.jsx)("div",{className:"eight wide center aligned column",children:Object(t.jsxs)("div",{class:"ui placeholder segment",children:[Object(t.jsxs)("div",{class:"ui icon header",children:[Object(t.jsx)("i",{class:"hand point left icon"}),"No movies selected."]}),Object(t.jsx)("h4",{children:"Please search and select movies to nominate."})]})})},C=function(e){var s=e.nominatedMovies,c=e.onToggle,i=e.setConfirmationBanner,a=e.setSuccessBanner,n=e.setSearch;return Object(t.jsxs)("div",{className:"ui placeholder segment sixteen wide column",children:[Object(t.jsxs)("div",{className:"ui icon header",children:[Object(t.jsx)("i",{className:"question circle icon"}),"You have selected five movies. Are you sure these are the ones you want to nominate?"]}),Object(t.jsx)("br",{}),Object(t.jsx)(M,{onToggle:c,nominatedMovies:s}),Object(t.jsxs)("div",{className:"inline",children:[Object(t.jsx)("button",{onClick:function(){n(!0),i(!1)},className:"ui button",children:"No, I want to change!"}),Object(t.jsx)("button",{onClick:function(){i(!1),a(!0)},className:"ui olive button",children:"Yes, I'm sure!"})]})]})},k=(c(47),function(e){var s=e.setConfirmationBanner,c=e.setNominatedMovies,i=e.nominatedMovies,a=e.setSearch;return Object(t.jsxs)("div",{className:"inline",children:[Object(t.jsx)("div",{onClick:function(){5===Object.values(i).length&&(a(!1),s(!0))},className:"ui right floated olive button ".concat(Object.values(i).length<5&&"disable"),children:"Confirm"}),Object(t.jsx)("button",{onClick:function(){return c({})},className:"ui right floated button",children:"Reset"})]})}),y=function(){return Object(t.jsxs)("div",{children:[Object(t.jsx)("h2",{children:"Movie not found"}),Object(t.jsxs)("div",{className:"ui negative message",children:[Object(t.jsx)("div",{className:"header",children:"We're sorry we can't find this movie."}),Object(t.jsx)("p",{children:"Please specify more and try again."})]})]})},T=function(){return Object(t.jsx)("div",{class:"ui placeholder segment",children:Object(t.jsxs)("div",{class:"ui icon header",children:[Object(t.jsx)("i",{class:"search icon"}),"Look up movies above and choose five of your favorite ones!"]})})},B=function(e){var s=e.fetchedMovies,c=e.onToggle,i=e.disabled,a=s.map((function(e){return Object(t.jsx)(S,{disabled:i,movie:e,action:"Nominate",color:"olive",onToggle:c},e.imdbID)}));return s.length?s[0].error?Object(t.jsx)(y,{}):s[0].initial?Object(t.jsx)(T,{}):a:Object(t.jsx)("div",{className:"eight wide center aligned column",children:Object(t.jsxs)("div",{className:"ui fluid placeholder",children:[Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsx)("div",{className:"image"}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsx)("div",{className:"image"}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]}),Object(t.jsxs)("div",{className:"paragraph",children:[Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"}),Object(t.jsx)("div",{className:"line"})]})]})})},I=function(e){var s=e.setSuccessBanner,c=e.setConfirmationBanner,i=e.setNominatedMovies,a=e.setSearch;return Object(t.jsxs)("div",{className:"ui placeholder segment sixteen wide column",children:[Object(t.jsxs)("div",{className:"ui icon header",children:[Object(t.jsx)("i",{className:"thumbs up circle icon"}),"You have nominated five movies. Thanks for your feedback."]}),Object(t.jsx)("button",{className:"ui button olive",onClick:function(){return i({}),c(!1),s(!1),void a(!0)},children:"Nominate it again!"})]})},P=function(e){var s=e.initialMovies,c=e.total,i=e.setSearch,a=u({},"nominatedMovies"),n=Object(l.a)(a,2),o=n[0],r=n[1],j=u(!1,"ConfirmationBanner"),d=Object(l.a)(j,2),b=d[0],m=d[1],v=u(!1,"setSuccessBanner"),O=Object(l.a)(v,2),h=O[0],x=O[1],N=s.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{selected:!!o[e.imdbID]})})),S=function(e){var s=e.imdbID,c=o[s],t=Object(g.a)(o,[s].map(p.a));r(c?t:Object(w.a)(Object(w.a)({},t),{},Object(f.a)({},e.imdbID,Object(w.a)(Object(w.a)({},e),{},{selected:!0})))),m(!1),i(!0)};return h?Object(t.jsx)(I,{setSearch:i,setNominatedMovies:r,setConfirmationBanner:m,setSuccessBanner:x}):b?Object(t.jsx)(C,{onToggle:S,setSearch:i,setConfirmationBanner:m,setSuccessBanner:x,nominatedMovies:Object.values(o)}):Object(t.jsx)("div",{className:"ui divided grid",children:Object(t.jsxs)("div",{className:"ui row",children:[Object(t.jsx)("div",{className:"eight wide column",children:Object(t.jsx)(B,{total:c,disabled:Object.values(o).length>=5,onToggle:S,fetchedMovies:N})}),Object(t.jsx)(M,{onToggle:S,nominatedMovies:Object.values(o),children:Object(t.jsx)(k,{setSearch:i,setConfirmationBanner:m,setNominatedMovies:r,nominatedMovies:o})})]})})},D=function(){var e=Object(i.useState)([]),s=Object(l.a)(e,2),c=s[0],a=s[1],n=u(!0,"search"),o=Object(l.a)(n,2),r=o[0],j=o[1];return Object(t.jsxs)("div",{className:"ui container",children:[Object(t.jsx)("br",{}),Object(t.jsx)("h2",{className:"ui header",children:Object(t.jsx)("div",{className:"content",children:"The Shoppies"})}),r&&Object(t.jsx)(N,{setMovies:a}),Object(t.jsx)(P,{setSearch:j,initialMovies:c})]})};n.a.render(Object(t.jsx)(D,{}),document.querySelector("#root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.c09c8544.chunk.js.map