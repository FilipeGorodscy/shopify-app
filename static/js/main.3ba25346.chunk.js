(this["webpackJsonpshopify-app"]=this["webpackJsonpshopify-app"]||[]).push([[0],{45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){"use strict";s.r(t);var c=s(0),i=s(1),n=s(16),a=s.n(n),o=s(2),r=s(7),l=s.n(r),j=s(17),d=s(18),b=s.n(d).a.create({baseURL:"https://www.omdbapi.com"}),u=function(e,t){return b.get("/?apikey=".concat("5f2a6108&"),{params:{s:e,type:"movie",page:t}})},m=function(e,t){var s=Object(i.useState)((function(){var s=window.localStorage.getItem(t);return s?JSON.parse(s):e})),c=Object(o.a)(s,2),n=c[0],a=c[1];return Object(i.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(n))}),[t,n]),[n,a]},v=function(){return Object(c.jsx)(c.Fragment,{})},O=function(e){var t=e.setMovies,s=e.setPage,i=e.page,n=e.total;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{onClick:function(){t([]),s(i-1)},className:"four wide column ui button ".concat(i<=1&&"disable"),children:Object(c.jsx)("i",{className:"chevron left icon"})}),Object(c.jsx)("div",{onClick:function(){t([]),s(i+1)},className:"four wide column ui button ".concat(i>=Math.ceil(n/10)&&"disable"),children:Object(c.jsx)("i",{className:"chevron right icon"})})]})},h=function(e){var t=e.debouncedValue,s=e.page,i=e.total;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"four wide column",children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"four column row",children:Object(c.jsxs)("h2",{children:['Results for "',t,'":']})})]}),Object(c.jsxs)("div",{className:"four wide right aligned column",children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"four column row",children:Object(c.jsxs)("h4",{children:["Page ",s," of ",Math.ceil(i/10),":"]})})]})]})},x=function(e){var t=e.debouncedValue,s=e.page,i=e.setPage,n=e.setMovies,a=e.total;return Object(c.jsxs)("div",{className:"ui grid",children:[Object(c.jsx)(h,{debouncedValue:t,page:s,total:a}),Object(c.jsxs)("div",{className:"ui two column row",children:[Object(c.jsx)(O,{page:s,setPage:i,setMovies:n,total:a}),Object(c.jsx)(v,{})]})]})},f=function(e){var t=e.setMovies,s=m("Harry Potter"),n=Object(o.a)(s,2),a=n[0],r=n[1],d=Object(i.useState)(a),b=Object(o.a)(d,2),v=b[0],O=b[1],h=m(1,"page"),f=Object(o.a)(h,2),N=f[0],g=f[1],p=m(0,"total"),w=Object(o.a)(p,2),S=w[0],M=w[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(s){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s,N);case 2:c=e.sent,(i=c.data).Search&&(t(i.Search),M(i.totalResults)),i.Error&&(t([{error:1}]),M(0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=setTimeout((function(){O(a),e(a)}),1e3);return function(){clearTimeout(s)}}),[a,v,t,M,N]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"ui segment search-bar",children:Object(c.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form",children:Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Search for a movie"}),Object(c.jsx)("input",{value:a,type:"text",onChange:function(e){r(e.target.value),g(1)}})]})})}),v&&S>0&&Object(c.jsx)(x,{debouncedValue:v,page:N,setPage:g,total:S,setMovies:t}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})},N=s(5),g=s(20),p=s(19),w=s(4),S=(s(45),s(46),function(e){var t=e.movie,s=e.onToggle,i=e.disabled,n=t.selected?"red":"olive",a=i&&!t.selected;return Object(c.jsxs)("div",{className:"ui relaxed list","data-tooltip":a?"You cannot nominate more than 5 movies.":void 0,children:[Object(c.jsx)("div",{className:"item content",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"header",children:t.Title}),Object(c.jsx)("div",{className:"description",children:t.Year}),Object(c.jsx)("button",{onClick:function(){return s(t)},className:"ui ".concat(n," button right floated movie-item \n               ").concat(a&&"disable"),children:t.selected?"Remove":"Nominate"})]})}),Object(c.jsx)("hr",{className:"bwidth"})]})}),M=function(e){var t=e.nominatedMovies,s=e.onToggle,i=e.children,n=t.map((function(e){return Object(c.jsx)(S,{movie:e,disabled:!1,color:"red",action:"Remove",onToggle:s},e.imdbID)}));return t.length>0?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"eight wide column",children:[Object(c.jsx)("h2",{children:"Selected movies"}),Object(c.jsxs)("h3",{children:[t.length," of 5 selected."]}),n,i]})}):Object(c.jsx)("div",{className:"eight wide center aligned column",children:Object(c.jsxs)("div",{class:"ui placeholder segment",children:[Object(c.jsxs)("div",{class:"ui icon header",children:[Object(c.jsx)("i",{class:"hand point left icon"}),"No movies selected."]}),Object(c.jsx)("h4",{children:"Please search and select movies to nominate."})]})})},C=function(e){var t=e.nominatedMovies,s=e.onToggle,i=e.setConfirmationBanner,n=e.setSuccessBanner,a=e.setSearch;return Object(c.jsxs)("div",{className:"ui placeholder segment sixteen wide column",children:[Object(c.jsxs)("div",{className:"ui icon header",children:[Object(c.jsx)("i",{className:"question circle icon"}),"You have selected five movies. Are you sure these are the ones you want to nominate?"]}),Object(c.jsx)("br",{}),Object(c.jsx)(M,{onToggle:s,nominatedMovies:t}),Object(c.jsxs)("div",{className:"inline",children:[Object(c.jsx)("button",{onClick:function(){a(!0),i(!1)},className:"ui button",children:"No, I want to change!"}),Object(c.jsx)("button",{onClick:function(){i(!1),n(!0)},className:"ui olive button",children:"Yes, I'm sure!"})]})]})},y=(s(47),function(e){var t=e.setConfirmationBanner,s=e.setNominatedMovies,i=e.nominatedMovies,n=e.setSearch;return Object(c.jsxs)("div",{className:"inline",children:[Object(c.jsx)("div",{onClick:function(){5===Object.values(i).length&&(n(!1),t(!0))},className:"ui right floated olive button ".concat(Object.values(i).length<5&&"disable"),children:"Confirm"}),Object(c.jsx)("button",{onClick:function(){return s({})},className:"ui right floated button",children:"Reset"})]})}),T=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Movie not found"}),Object(c.jsxs)("div",{className:"ui negative message",children:[Object(c.jsx)("div",{className:"header",children:"We're sorry we can't find this movie."}),Object(c.jsx)("p",{children:"Please specify more and try again."})]})]})},k=function(e){var t=e.fetchedMovies,s=e.onToggle,i=e.disabled,n=t.map((function(e){return Object(c.jsx)(S,{disabled:i,movie:e,action:"Nominate",color:"olive",onToggle:s},e.imdbID)}));return t.length?t[0].error?Object(c.jsx)(T,{}):n:Object(c.jsx)("div",{className:"eight wide center aligned column",children:Object(c.jsxs)("div",{className:"ui fluid placeholder",children:[Object(c.jsxs)("div",{className:"paragraph",children:[Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"})]}),Object(c.jsxs)("div",{className:"paragraph",children:[Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"})]}),Object(c.jsx)("div",{className:"image"}),Object(c.jsxs)("div",{className:"paragraph",children:[Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"})]}),Object(c.jsxs)("div",{className:"paragraph",children:[Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"}),Object(c.jsx)("div",{className:"line"})]})]})})},B=function(e){var t=e.setSuccessBanner,s=e.setConfirmationBanner,i=e.setNominatedMovies,n=e.setSearch;return Object(c.jsxs)("div",{className:"ui placeholder segment sixteen wide column",children:[Object(c.jsxs)("div",{className:"ui icon header",children:[Object(c.jsx)("i",{className:"thumbs up circle icon"}),"You have nominated five movies. Thanks for your feedback."]}),Object(c.jsx)("button",{className:"ui button olive",onClick:function(){return i({}),s(!1),t(!1),void n(!0)},children:"Nominate it again!"})]})},I=function(e){var t=e.initialMovies,s=e.total,i=e.setSearch,n=m({},"nominatedMovies"),a=Object(o.a)(n,2),r=a[0],l=a[1],j=m(!1,"ConfirmationBanner"),d=Object(o.a)(j,2),b=d[0],u=d[1],v=m(!1,"setSuccessBanner"),O=Object(o.a)(v,2),h=O[0],x=O[1],f=t.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{selected:!!r[e.imdbID]})})),S=function(e){var t=e.imdbID,s=r[t],c=Object(g.a)(r,[t].map(p.a));l(s?c:Object(w.a)(Object(w.a)({},c),{},Object(N.a)({},e.imdbID,Object(w.a)(Object(w.a)({},e),{},{selected:!0})))),u(!1),i(!0)};return h?Object(c.jsx)(B,{setSearch:i,setNominatedMovies:l,setConfirmationBanner:u,setSuccessBanner:x}):b?Object(c.jsx)(C,{onToggle:S,setSearch:i,setConfirmationBanner:u,setSuccessBanner:x,nominatedMovies:Object.values(r)}):Object(c.jsx)("div",{className:"ui divided grid",children:Object(c.jsxs)("div",{className:"ui row",children:[Object(c.jsx)("div",{className:"eight wide column",children:Object(c.jsx)(k,{total:s,disabled:Object.values(r).length>=5,onToggle:S,fetchedMovies:f})}),Object(c.jsx)(M,{onToggle:S,nominatedMovies:Object.values(r),children:Object(c.jsx)(y,{setSearch:i,setConfirmationBanner:u,setNominatedMovies:l,nominatedMovies:r})})]})})},P=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),s=t[0],n=t[1],a=m(!0),r=Object(o.a)(a,2),l=r[0],j=r[1];return Object(c.jsxs)("div",{className:"ui container",children:[Object(c.jsx)("br",{}),Object(c.jsx)("h2",{className:"ui header",children:Object(c.jsx)("div",{className:"content",children:"The Shoppies"})}),l&&Object(c.jsx)(f,{setMovies:n}),Object(c.jsx)(I,{setSearch:j,initialMovies:s})]})};a.a.render(Object(c.jsx)(P,{}),document.querySelector("#root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.3ba25346.chunk.js.map